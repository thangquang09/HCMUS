# Cheatsheet: Thực hành R trong Xử lý Số liệu Thống kê

| **Chủ đề**                     | **Lệnh và Hàm Quan Trọng**                                                                                                                                                         | **Mô tả**                                                                                              |
|--------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| **Import và Kiểm soát Dữ liệu**| `read_csv("file_path")`                                                                                                                                                           | Đọc tệp CSV.                                                                                           |
|                                | `library(tidyverse)`                                                                                                                                                              | Import tidyverse để xử lý và trực quan hóa.                                                            |
|                                | `clean_names()`                                                                                                                                                                   | Sửa tên biến thành chuẩn snake_case.                                                                   |
|                                | `mutate()`                                                                                                                                                                        | Thêm hoặc biến đổi cột. Ví dụ: `mutate(age = parse_number(age))`.                                       |
| **Thống kê Tổng hợp**          | `summarise(tb = mean(var), sd = sd(var))`                                                                                                                                         | Tính giá trị trung bình và độ lệch chuẩn.                                                              |
|                                | `across()`                                                                                                                                                                        | Tính toán cho nhiều biến cùng lúc.                                                                     |
| **Bảng Tần số và Biểu Đồ**     | `count(var)`                                                                                                                                                                      | Tạo bảng tần số cho biến định tính.                                                                    |
|                                | `mutate(prop = n / sum(n))`                                                                                                                                                       | Thêm cột tỷ số cho bảng tần số.                                                                        |
|                                | `spread(var1, var2)`                                                                                                                                                              | Tạo bảng tần số chéo cho 2 biến định tính.                                                             |
| **Phương pháp Bootstrap**      | `library(boot)`                                                                                                                                                                   | Thư viện để sử dụng phương pháp bootstrap.                                                             |
|                                | `out_boot <- boot(data, statistic, R, sim = "ordinary")`                                                                                                                          | Khởi tạo quá trình bootstrap với số lần lặp R.                                                         |
|                                | `boot.ci(out_1, type = "perc", conf = 0.95)`                                                                                                                                      | Xác định khoảng tin cậy bootstrap.                                                                     |
| **A/B Testing**                | `group_by(page) |> summarise(n = n(), mean = mean(time), sd = sd(time))`                                                                                                          | Tổng hợp và so sánh trung bình thời gian phiên làm việc của 2 trang web A và B.                        |
|                                | `perm_fun(x, nA, nB, R)`                                                                                                                                                          | Hàm tính sự khác biệt trung bình giữa các nhóm thông qua R lần hoán vị.                                |
|                                | `set.seed()`                                                                                                                                                                      | Đảm bảo kết quả không thay đổi khi chạy lại đoạn code.                                                 |
| **Biểu Đồ Violin**             | `ggplot(data_web, aes(x = page, y = time, fill = page)) + geom_violin() + geom_boxplot(width = 0.15) + theme_bw()`                                                                | Vẽ biểu đồ violin để trực quan hóa phân phối.                                                          |
| **Phân Tích ANOVA Nhiều Nhóm** | `group_by(page) |> summarise(n = n(), mean = mean(time), sd = sd(time))`                                                                                                          | Phân tích sự khác biệt giữa trung bình của nhiều nhóm (Permutation ANOVA).                             |
| **Các Hàm Quan Trọng Khác**    | `mean()`, `median()`, `IQR()`, `min()`, `max()`                                                                                                                                   | Tính các thống kê mô tả cơ bản.                                                                        |
|                                | `weightedMedian()`, `weightedSd()` (thư viện `matrixStats`)                                                                                                                      | Tính thống kê có trọng số.                                                                              |
| **Kiểm Soát Dữ Liệu**          | `factor()`                                                                                                                                                                        | Biến đổi dữ liệu thành dạng nhân tố (factor).                                                          |

## Ví dụ
1. **Import dữ liệu và làm sạch**:
   ```R
   data_students <- read_csv("datasets/students.csv", na = c("", "NA", "N/A")) |> clean_names()
